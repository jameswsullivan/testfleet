- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-configuration
    name: mod-configuration
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-configuration
    template:
      metadata:
        labels:
          app: mod-configuration
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-configuration
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-configuration:5.13.0-SNAPSHOT.139
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-configuration
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-permissions
    name: mod-permissions
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-permissions
    template:
      metadata:
        labels:
          app: mod-permissions
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-permissions
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-permissions:6.8.0-SNAPSHOT.192
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-permissions
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: '1'
                memory: 2Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-tags
    name: mod-tags
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-tags
    template:
      metadata:
        labels:
          app: mod-tags
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-tags
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=85.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-tags:2.5.0-SNAPSHOT.115
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-tags
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users
    name: mod-users
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users
    template:
      metadata:
        labels:
          app: mod-users
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
              - name: KAFKA_HOST
                value: 10.0.2.15
              - name: KAFKA_PORT
                value: '9092'
              - name: AWS_URL
                value: http://127.0.0.1:9000/
              - name: AWS_REGION
                value: ''
              - name: AWS_BUCKET
                value: example-bucket
              - name: AWS_ACCESS_KEY_ID
                value: AKIAIOSFODNN7EXAMPLE
              - name: AWS_SECRET_ACCESS_KEY
                value: wJalrXUtnFEMI/K7MDENG/EXAMPLEKEY
              - name: AWS_SDK
                value: 'false'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-users:19.6.0-SNAPSHOT.350
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-users
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: '1'
                memory: 2Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users-bl
    name: mod-users-bl
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users-bl
    template:
      metadata:
        labels:
          app: mod-users-bl
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users-bl
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-users-bl:7.11.0-SNAPSHOT.181
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-users-bl
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: '1'
                memory: 2Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-password-validator
    name: mod-password-validator
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-password-validator
    template:
      metadata:
        labels:
          app: mod-password-validator
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-password-validator
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=85.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-password-validator:3.5.0-SNAPSHOT.97
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-password-validator
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-login-keycloak
    name: mod-login-keycloak
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-login-keycloak
    template:
      metadata:
        labels:
          app: mod-login-keycloak
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-login-keycloak
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
              - name: KC_CONFIG_STORE_TYPE
                value: ephemeral
              - name: KC_CONFIG_CACHE_CAPACITY
                value: '100'
              - name: KC_CONFIG_CACHE_TTL_MS
                value: '3600000'
              - name: KC_CONFIG_FAILURE_CACHE_TTL_MS
                value: '30000'
              - name: KC_CONFIG_EPHEMERAL_CREDENTIALS
                value: ''
              - name: KC_CONFIG_AWS_SSM_REGION
                value: ''
              - name: KC_CONFIG_AWS_SSM_USE_IAM
                value: 'true'
              - name: KC_CONFIG_AWS_SSM_ECS_CREDENTIALS_ENDPOINT
                value: ''
              - name: KC_CONFIG_AWS_SSM_ECS_CREDENTIALS_PATH
                value: ''
              - name: KC_CONFIG_VAULT_TOKEN
                value: ''
              - name: KC_CONFIG_VAULT_ADDRESS
                value: ''
              - name: KC_CONFIG_VAULT_ENABLE_SSL
                value: 'false'
              - name: KC_CONFIG_VAULT_KEYSTORE_PASSWORD
                value: ''
              - name: KC_CONFIG_VAULT_PEM_FILE_PATH
                value: ''
              - name: KC_CONFIG_VAULT_KEYSTORE_FILE_PATH
                value: ''
              - name: KC_CONFIG_VAULT_TRUSTSTORE_FILE_PATH
                value: ''
            envFrom:
              value:
                configMapRef:
                  name: vault-connect
                  optional: false
                secretRef:
                  name: vault-connect
                  optional: false
            image: folioorg/mod-login-keycloak:3.1.0-SNAPSHOT.120
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-login-keycloak
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users-keycloak
    name: mod-users-keycloak
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users-keycloak
    template:
      metadata:
        labels:
          app: mod-users-keycloak
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-users-keycloak
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
            envFrom:
              value:
                configMapRef:
                  name: vault-connect
                  optional: false
                secretRef:
                  name: vault-connect
                  optional: false
            image: folioorg/mod-users-keycloak:3.1.0-SNAPSHOT.153
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-users-keycloak
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-roles-keycloak
    name: mod-roles-keycloak
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-roles-keycloak
    template:
      metadata:
        labels:
          app: mod-roles-keycloak
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-roles-keycloak
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=85.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: postgres
              - name: DB_PASSWORD
                value: postgres
              - name: DB_DATABASE
                value: okapi_modules
              - name: KC_URL
                value: keycloak:8080
              - name: KC_CLIENT_SECRET
                value: mod-roles-keycloak
              - name: KC_CLIENT_ID
                value: secret
              - name: KC_POLICIES_CLIENT_NAME
                value: mod-login-keycloak
              - name: KC_TOKEN_TTL
                value: '59'
              - name: KC_CLIENT_ID_TTL
                value: '3600'
            envFrom:
              value:
                configMapRef:
                  name: vault-connect
                  optional: false
                secretRef:
                  name: vault-connect
                  optional: false
            image: folioorg/mod-roles-keycloak:3.1.0-SNAPSHOT.217
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-roles-keycloak
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-notes
    name: mod-notes
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-notes
    template:
      metadata:
        labels:
          app: mod-notes
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-notes
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
              - name: NOTES_TYPES_DEFAULTS_LIMIT
                value: '25'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-notes:7.1.0-SNAPSHOT.283
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-notes
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-scheduler
    name: mod-scheduler
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-scheduler
    template:
      metadata:
        labels:
          app: mod-scheduler
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-scheduler
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=85.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
            envFrom:
              value:
                configMapRef:
                  name: vault-connect
                  optional: false
                secretRef:
                  name: vault-connect
                  optional: false
            image: folioorg/mod-scheduler:3.1.0-SNAPSHOT.119
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-scheduler
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 500m
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-settings
    name: mod-settings
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-settings
    template:
      metadata:
        labels:
          app: mod-settings
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-settings
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_MAXPOOLSIZE
                value: '5'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-settings:1.3.0-SNAPSHOT.57
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-settings
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: '1'
                memory: 1Gi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-okapi-facade
    name: mod-okapi-facade
    namespace: folio-modules-test
  spec:
    replicas: 1
    selector:
      matchLabels:
        workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-okapi-facade
    template:
      metadata:
        labels:
          app: mod-okapi-facade
          workload.user.cattle.io/workloadselector: deployment-folio-scratch-mod-okapi-facade
        namespace: folio-modules-test
      spec:
        containers:
          - env:
              - name: JAVA_OPTIONS
                value: -XX:MaxRAMPercentage=66.0
              - name: DB_HOST
                value: postgres
              - name: DB_PORT
                value: '5432'
              - name: DB_USERNAME
                value: folio_admin
              - name: DB_PASSWORD
                value: folio_admin
              - name: DB_DATABASE
                value: okapi_modules
              - name: DB_QUERYTIMEOUT
                value: '60000'
              - name: DB_CHARSET
                value: UTF-8
              - name: DB_MAXPOOLSIZE
                value: '5'
            envFrom:
              value:
                configMapRef:
                  name: db-connect
                  optional: false
                secretRef:
                  name: db-connect
                  optional: false
            image: folioorg/mod-okapi-facade:3.1.0-SNAPSHOT.61
            imagePullPolicy: Always
            livenessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            name: mod-okapi-facade
            ports:
              - containerPort: 8081
                name: 8081_TCP_0
                protocol: TCP
            readinessProbe:
              failureThreshold: 3
              httpGet:
                path: /admin/health
                port: '8081'
                scheme: HTTP
              initialDelaySeconds: 45
              periodSeconds: 60
              successThreshold: 1
              timeoutSeconds: 5
            resources:
              limits:
                cpu: 4000m
                memory: 8Gi
